<% layout('/layouts/boilerplate') -%>
<body class=" bg-gray-100 p-8">
  <div class=" max-w-lg mx-auto bg-white p-6 rounded shadow-md ">
    <div class=" mainnnn">
    <form action="http://localhost:8080/listings/ok" method="post" id="listingForm" enctype="multipart/form-data">
      <div class="mb-4">
        <label for="title" class="block text-sm font-medium text-gray-700">Title</label>
        <input type="title" required  name="Listing[title]" id="title" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
        <p id="titleError" class="mt-2 text-sm text-red-600 hidden">Please enter a catchy title.</p>
      </div>
      <div class="mb-4">
        <label for="description" class="block text-sm font-medium text-gray-700">Description</label>
        <input name="Listing[description]" required   type="description" id="description"  class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
        <p id="descriptionError" class="mt-2 text-sm text-red-600 hidden">Please enter a short description.</p>
      </div>
      <div class="mb-4">
        <label for="imageLink" class="block text-sm font-medium text-gray-700">Upload Image</label>
        <input type="file" name="Listing[image][url]"  required id="imageLink"  class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
        <p id="imageLinkError" class="mt-2 text-sm text-red-600 hidden">Please enter a valid URL.</p>
      </div>
      <div class="mb-4">
        <label for="price" class="block text-sm font-medium text-gray-700">Price</label>
        <input type="number" id="price" required name="Listing[price]" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
        <p id="priceError" class="mt-2 text-sm text-red-600 hidden">Please enter a valid price.</p>
      </div>
      <div class="mb-4">
        <label for="country" class="block text-sm font-medium text-gray-700">Country</label>
        <input type="text" required id="country" name="Listing[country]" class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
        <p id="countryError" class="mt-2 text-sm text-red-600 hidden">Please enter a valid country name.</p>
      </div>
      <div class="mb-4">
        <label for="location" class="block text-sm font-medium text-gray-700">Location</label>
        <input type="text" required id="location" name="Listing[location]"  class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
        <p id="locationError" class="mt-2 text-sm text-red-600 hidden">Please enter a valid location.</p>
      </div>
      <button  onclick="validateForm()" class="bg-blue-500 text-white px-4 py-2 rounded-md">Add</button>
     
    </form>
  </div>
</div>

  <script>
    function validateForm() {
      // Reset previous errors
      const errorElements = document.querySelectorAll('.text-red-600');
      errorElements.forEach(el => el.classList.add('hidden'));

      let isValid = true;

      // Title validation
      const title = document.getElementById('title').value;
      if (!title) {
        document.getElementById('titleError').classList.remove('hidden');
        isValid = false;
      }

      // Description validation
      const description = document.getElementById('description').value;
      if (!description) {
        document.getElementById('descriptionError').classList.remove('hidden');
        isValid = false;
      }

      // Image Link validation
      const imageLink = document.getElementById('imageLink').value;
      if (!imageLink) {
        document.getElementById('imageLinkError').classList.remove('hidden');
        isValid = false;
      }

      // Price validation
      const price = document.getElementById('price').value;
      if (!price || isNaN(price) || price <= 0) {
        document.getElementById('priceError').classList.remove('hidden');
        isValid = false;
      }

      // Country validation
      const country = document.getElementById('country').value;
      if (!country) {
        document.getElementById('countryError').classList.remove('hidden');
        isValid = false;
      }

      // Location validation
      const location = document.getElementById('location').value;
      if (!location) {
        document.getElementById('locationError').classList.remove('hidden');
        isValid = false;
      }

      // If the form is valid, submit it
    //   if (isValid) {
    //     // Form submission logic here
    //     alert('Form is valid and ready to be submitted!');
    //   }
    }
  </script>
</body>
</html>

